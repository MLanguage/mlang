<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mlang__Mast (mlang.Mlang__Mast)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mlang</a> &#x00BB; Mlang__Mast</nav><h1>Module <code>Mlang__Mast</code></h1><p>Abstract Syntax Tree for M</p><nav class="toc"><ul><li><a href="#abstract-syntax-tree">Abstract Syntax Tree</a><ul><li><a href="#names">Names</a></li><li><a href="#literals">Literals</a></li><li><a href="#loops">Loops</a></li><li><a href="#expressions">Expressions</a></li></ul></li><li><a href="#toplevel-clauses">Toplevel clauses</a><ul><li><a href="#rules">Rules</a></li><li><a href="#variable-declaration">Variable declaration</a><ul><li><a href="#input-variables">Input variables</a></li></ul></li><li><a href="#verification-clauses">Verification clauses</a></li></ul></li><li><a href="#m-programs">M programs</a></li><li><a href="#function-specification-ast">Function specification AST</a></li><li><a href="#helper-functions">Helper functions</a></li></ul></nav></header><section><header><h2 id="abstract-syntax-tree"><a href="#abstract-syntax-tree" class="anchor"></a>Abstract Syntax Tree</h2></header><aside><p>This AST is very close to the concrete syntax. It features many elements that are just dropped in later phases of the compiler, but may be used by other DGFiP applications</p></aside><section><header><h3 id="names"><a href="#names" class="anchor"></a>Names</h3></header><dl><dt class="spec type" id="type-application"><a href="#type-application" class="anchor"></a><code><span class="keyword">type</span> application</code><code> = string</code></dt><dd><p>Applications are rule annotations. The 3 main DGFiP applications seem to be:</p><ul><li><code>batch</code>: deprecated, used to compute the income tax but not anymore;</li><li><code>bareme</code>: seems to compute the income tax;</li><li><code>iliad</code>: usage unkown, much bigger than <code>bareme</code>.</li></ul></dd></dl><dl><dt class="spec type" id="type-chaining"><a href="#type-chaining" class="anchor"></a><code><span class="keyword">type</span> chaining</code><code> = string</code></dt><dd><p>&quot;enchaineur&quot; in the M source code, utility unknown</p></dd></dl><dl><dt class="spec type" id="type-chain_tag"><a href="#type-chain_tag" class="anchor"></a><code><span class="keyword">type</span> chain_tag</code><code> = </code><table class="variant"><tr id="type-chain_tag.Primitif" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Primitif" class="anchor"></a><code>| </code><code><span class="constructor">Primitif</span></code></td></tr><tr id="type-chain_tag.Corrective" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Corrective" class="anchor"></a><code>| </code><code><span class="constructor">Corrective</span></code></td></tr><tr id="type-chain_tag.Isf" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Isf" class="anchor"></a><code>| </code><code><span class="constructor">Isf</span></code></td></tr><tr id="type-chain_tag.Taux" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Taux" class="anchor"></a><code>| </code><code><span class="constructor">Taux</span></code></td></tr><tr id="type-chain_tag.Irisf" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Irisf" class="anchor"></a><code>| </code><code><span class="constructor">Irisf</span></code></td></tr><tr id="type-chain_tag.Base_hr" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_hr" class="anchor"></a><code>| </code><code><span class="constructor">Base_hr</span></code></td></tr><tr id="type-chain_tag.Base_tl" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_tl" class="anchor"></a><code>| </code><code><span class="constructor">Base_tl</span></code></td></tr><tr id="type-chain_tag.Base_tl_init" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_tl_init" class="anchor"></a><code>| </code><code><span class="constructor">Base_tl_init</span></code></td></tr><tr id="type-chain_tag.Base_tl_rect" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_tl_rect" class="anchor"></a><code>| </code><code><span class="constructor">Base_tl_rect</span></code></td></tr><tr id="type-chain_tag.Base_initial" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_initial" class="anchor"></a><code>| </code><code><span class="constructor">Base_initial</span></code></td></tr><tr id="type-chain_tag.Base_inr" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr</span></code></td></tr><tr id="type-chain_tag.Base_inr_ref" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_ref" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_ref</span></code></td></tr><tr id="type-chain_tag.Base_inr_tl" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_tl" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_tl</span></code></td></tr><tr id="type-chain_tag.Base_inr_tl22" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_tl22" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_tl22</span></code></td></tr><tr id="type-chain_tag.Base_inr_tl24" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_tl24" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_tl24</span></code></td></tr><tr id="type-chain_tag.Base_inr_ntl" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_ntl" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_ntl</span></code></td></tr><tr id="type-chain_tag.Base_inr_ntl22" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_ntl22" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_ntl22</span></code></td></tr><tr id="type-chain_tag.Base_inr_ntl24" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_ntl24" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_ntl24</span></code></td></tr><tr id="type-chain_tag.Base_inr_inter22" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_inter22" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_inter22</span></code></td></tr><tr id="type-chain_tag.Base_inr_intertl" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_intertl" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_intertl</span></code></td></tr><tr id="type-chain_tag.Base_inr_r9901" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_r9901" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_r9901</span></code></td></tr><tr id="type-chain_tag.Base_inr_cimr07" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_cimr07" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_cimr07</span></code></td></tr><tr id="type-chain_tag.Base_inr_cimr24" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_cimr24" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_cimr24</span></code></td></tr><tr id="type-chain_tag.Base_inr_cimr99" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_cimr99" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_cimr99</span></code></td></tr><tr id="type-chain_tag.Base_inr_tlcimr07" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_tlcimr07" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_tlcimr07</span></code></td></tr><tr id="type-chain_tag.Base_inr_tlcimr24" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_inr_tlcimr24" class="anchor"></a><code>| </code><code><span class="constructor">Base_inr_tlcimr24</span></code></td></tr><tr id="type-chain_tag.Base_abat98" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_abat98" class="anchor"></a><code>| </code><code><span class="constructor">Base_abat98</span></code></td></tr><tr id="type-chain_tag.Base_abat99" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_abat99" class="anchor"></a><code>| </code><code><span class="constructor">Base_abat99</span></code></td></tr><tr id="type-chain_tag.Base_majo" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_majo" class="anchor"></a><code>| </code><code><span class="constructor">Base_majo</span></code></td></tr><tr id="type-chain_tag.Base_premier" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_premier" class="anchor"></a><code>| </code><code><span class="constructor">Base_premier</span></code></td></tr><tr id="type-chain_tag.Base_anterieure" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_anterieure" class="anchor"></a><code>| </code><code><span class="constructor">Base_anterieure</span></code></td></tr><tr id="type-chain_tag.Base_anterieure_cor" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_anterieure_cor" class="anchor"></a><code>| </code><code><span class="constructor">Base_anterieure_cor</span></code></td></tr><tr id="type-chain_tag.Base_stratemajo" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Base_stratemajo" class="anchor"></a><code>| </code><code><span class="constructor">Base_stratemajo</span></code></td></tr><tr id="type-chain_tag.Non_auto_cc" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Non_auto_cc" class="anchor"></a><code>| </code><code><span class="constructor">Non_auto_cc</span></code></td></tr><tr id="type-chain_tag.Horizontale" class="anchored"><td class="def constructor"><a href="#type-chain_tag.Horizontale" class="anchor"></a><code>| </code><code><span class="constructor">Horizontale</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-all_tags"><a href="#val-all_tags" class="anchor"></a><code><span class="keyword">val</span> all_tags : <span><a href="index.html#type-chain_tag">chain_tag</a> list</span></code></dt><dt class="spec value" id="val-chain_tag_of_string"><a href="#val-chain_tag_of_string" class="anchor"></a><code><span class="keyword">val</span> chain_tag_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-chain_tag">chain_tag</a></code></dt><dt class="spec value" id="val-number_and_tags_of_name"><a href="#val-number_and_tags_of_name" class="anchor"></a><code><span class="keyword">val</span> number_and_tags_of_name : <span><span>string <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span> <span>&#45;&gt;</span> <span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><span><a href="index.html#type-chain_tag">chain_tag</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span></code></dt></dl><dl><dt class="spec type" id="type-variable_name"><a href="#type-variable_name" class="anchor"></a><code><span class="keyword">type</span> variable_name</code><code> = string</code></dt><dd><p>Variables are just strings</p></dd></dl><dl><dt class="spec type" id="type-func_name"><a href="#type-func_name" class="anchor"></a><code><span class="keyword">type</span> func_name</code><code> = string</code></dt><dd><p>Func names are just string for the moment</p></dd></dl><dl><dt class="spec type" id="type-variable_generic_name"><a href="#type-variable_generic_name" class="anchor"></a><code><span class="keyword">type</span> variable_generic_name</code><code> = </code><code>{</code><table class="record"><tr id="type-variable_generic_name.base" class="anchored"><td class="def field"><a href="#type-variable_generic_name.base" class="anchor"></a><code>base : string;</code></td></tr><tr id="type-variable_generic_name.parameters" class="anchored"><td class="def field"><a href="#type-variable_generic_name.parameters" class="anchor"></a><code>parameters : <span>char list</span>;</code></td></tr></table><code>}</code></dt><dd><p>For generic variables, we record the list of their lowercase parameters</p></dd></dl><dl><dt class="spec type" id="type-error_name"><a href="#type-error_name" class="anchor"></a><code><span class="keyword">type</span> error_name</code><code> = string</code></dt><dd><p>Ununsed for now</p></dd></dl></section><section><header><h3 id="literals"><a href="#literals" class="anchor"></a>Literals</h3></header><dl><dt class="spec type" id="type-variable"><a href="#type-variable" class="anchor"></a><code><span class="keyword">type</span> variable</code><code> = </code><table class="variant"><tr id="type-variable.Normal" class="anchored"><td class="def constructor"><a href="#type-variable.Normal" class="anchor"></a><code>| </code><code><span class="constructor">Normal</span> <span class="keyword">of</span> <a href="index.html#type-variable_name">variable_name</a></code></td></tr><tr id="type-variable.Generic" class="anchored"><td class="def constructor"><a href="#type-variable.Generic" class="anchor"></a><code>| </code><code><span class="constructor">Generic</span> <span class="keyword">of</span> <a href="index.html#type-variable_generic_name">variable_generic_name</a></code></td></tr></table></dt><dd><p>A variable is either generic (with loop parameters) or normal</p></dd></dl><dl><dt class="spec type" id="type-literal"><a href="#type-literal" class="anchor"></a><code><span class="keyword">type</span> literal</code><code> = </code><table class="variant"><tr id="type-literal.Variable" class="anchored"><td class="def constructor"><a href="#type-literal.Variable" class="anchor"></a><code>| </code><code><span class="constructor">Variable</span> <span class="keyword">of</span> <a href="index.html#type-variable">variable</a></code></td></tr><tr id="type-literal.Float" class="anchored"><td class="def constructor"><a href="#type-literal.Float" class="anchor"></a><code>| </code><code><span class="constructor">Float</span> <span class="keyword">of</span> float</code></td></tr></table></dt><dt class="spec type" id="type-table_index"><a href="#type-table_index" class="anchor"></a><code><span class="keyword">type</span> table_index</code><code> = </code><table class="variant"><tr id="type-table_index.LiteralIndex" class="anchored"><td class="def constructor"><a href="#type-table_index.LiteralIndex" class="anchor"></a><code>| </code><code><span class="constructor">LiteralIndex</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-table_index.SymbolIndex" class="anchored"><td class="def constructor"><a href="#type-table_index.SymbolIndex" class="anchor"></a><code>| </code><code><span class="constructor">SymbolIndex</span> <span class="keyword">of</span> <a href="index.html#type-variable">variable</a></code></td></tr></table></dt><dd><p>A table index is used in expressions like <code>TABLE[X]</code>, and can be variables, integer or the special <code>X</code> variable that stands for a &quot;generic&quot; index (to define table values as a function of the index). <code>X</code> is contained here in <code>SymbolIndex</code> because there can also be a variable named <code>&quot;X&quot;</code>...</p></dd></dl><dl><dt class="spec type" id="type-set_value"><a href="#type-set_value" class="anchor"></a><code><span class="keyword">type</span> set_value</code><code> = </code><table class="variant"><tr id="type-set_value.FloatValue" class="anchored"><td class="def constructor"><a href="#type-set_value.FloatValue" class="anchor"></a><code>| </code><code><span class="constructor">FloatValue</span> <span class="keyword">of</span> <span>float <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-set_value.VarValue" class="anchored"><td class="def constructor"><a href="#type-set_value.VarValue" class="anchor"></a><code>| </code><code><span class="constructor">VarValue</span> <span class="keyword">of</span> <span><a href="index.html#type-variable">variable</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-set_value.Interval" class="anchored"><td class="def constructor"><a href="#type-set_value.Interval" class="anchor"></a><code>| </code><code><span class="constructor">Interval</span> <span class="keyword">of</span> <span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr></table></dt></dl></section><section><header><h3 id="loops"><a href="#loops" class="anchor"></a>Loops</h3></header><aside><p>The M language has an extremely odd way to specify looping. Rather than having first-class local mutable variables whose value change at each loop iteration, the M language prefers to use the changing loop parameter to instantiate the variable names inside the loop. For instance,</p><pre>somme(i=1..10:Xi)</pre><p>should evaluate to the sum of variables <code>X1</code>, <code>X2</code>, etc. Parameters can be number or characters and there can be multiple of them. We have to store all this information.</p></aside><dl><dt class="spec type" id="type-set_value_loop"><a href="#type-set_value_loop" class="anchor"></a><code><span class="keyword">type</span> set_value_loop</code><code> = </code><table class="variant"><tr id="type-set_value_loop.Single" class="anchored"><td class="def constructor"><a href="#type-set_value_loop.Single" class="anchor"></a><code>| </code><code><span class="constructor">Single</span> <span class="keyword">of</span> <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-set_value_loop.Range" class="anchored"><td class="def constructor"><a href="#type-set_value_loop.Range" class="anchor"></a><code>| </code><code><span class="constructor">Range</span> <span class="keyword">of</span> <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-set_value_loop.Interval" class="anchored"><td class="def constructor"><a href="#type-set_value_loop.Interval" class="anchor"></a><code>| </code><code><span class="constructor">Interval</span> <span class="keyword">of</span> <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr></table></dt><dd><p>Values that can be substituted for loop parameters</p></dd></dl><dl><dt class="spec type" id="type-loop_variable"><a href="#type-loop_variable" class="anchor"></a><code><span class="keyword">type</span> loop_variable</code><code> = <span>char <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-set_value_loop">set_value_loop</a> list</span></code></dt><dd><p>A loop variable is the character that should be substituted in variable names inside the loop plus the set of value to substitute.</p></dd></dl><dl><dt class="spec type" id="type-loop_variables"><a href="#type-loop_variables" class="anchor"></a><code><span class="keyword">type</span> loop_variables</code><code> = </code><table class="variant"><tr id="type-loop_variables.ValueSets" class="anchored"><td class="def constructor"><a href="#type-loop_variables.ValueSets" class="anchor"></a><code>| </code><code><span class="constructor">ValueSets</span> <span class="keyword">of</span> <span><a href="index.html#type-loop_variable">loop_variable</a> list</span></code></td></tr><tr id="type-loop_variables.Ranges" class="anchored"><td class="def constructor"><a href="#type-loop_variables.Ranges" class="anchor"></a><code>| </code><code><span class="constructor">Ranges</span> <span class="keyword">of</span> <span><a href="index.html#type-loop_variable">loop_variable</a> list</span></code></td></tr></table></dt><dd><p>There are two kind of loop variables declaration, but they are semantically the same though they have different concrete syntax.</p></dd></dl></section><section><header><h3 id="expressions"><a href="#expressions" class="anchor"></a>Expressions</h3></header><dl><dt class="spec type" id="type-comp_op"><a href="#type-comp_op" class="anchor"></a><code><span class="keyword">type</span> comp_op</code><code> = </code><table class="variant"><tr id="type-comp_op.Gt" class="anchored"><td class="def constructor"><a href="#type-comp_op.Gt" class="anchor"></a><code>| </code><code><span class="constructor">Gt</span></code></td></tr><tr id="type-comp_op.Gte" class="anchored"><td class="def constructor"><a href="#type-comp_op.Gte" class="anchor"></a><code>| </code><code><span class="constructor">Gte</span></code></td></tr><tr id="type-comp_op.Lt" class="anchored"><td class="def constructor"><a href="#type-comp_op.Lt" class="anchor"></a><code>| </code><code><span class="constructor">Lt</span></code></td></tr><tr id="type-comp_op.Lte" class="anchored"><td class="def constructor"><a href="#type-comp_op.Lte" class="anchor"></a><code>| </code><code><span class="constructor">Lte</span></code></td></tr><tr id="type-comp_op.Eq" class="anchored"><td class="def constructor"><a href="#type-comp_op.Eq" class="anchor"></a><code>| </code><code><span class="constructor">Eq</span></code></td></tr><tr id="type-comp_op.Neq" class="anchored"><td class="def constructor"><a href="#type-comp_op.Neq" class="anchor"></a><code>| </code><code><span class="constructor">Neq</span></code></td></tr></table></dt><dd><p>Comparison operators</p></dd></dl><dl><dt class="spec type" id="type-binop"><a href="#type-binop" class="anchor"></a><code><span class="keyword">type</span> binop</code><code> = </code><table class="variant"><tr id="type-binop.And" class="anchored"><td class="def constructor"><a href="#type-binop.And" class="anchor"></a><code>| </code><code><span class="constructor">And</span></code></td></tr><tr id="type-binop.Or" class="anchored"><td class="def constructor"><a href="#type-binop.Or" class="anchor"></a><code>| </code><code><span class="constructor">Or</span></code></td></tr><tr id="type-binop.Add" class="anchored"><td class="def constructor"><a href="#type-binop.Add" class="anchor"></a><code>| </code><code><span class="constructor">Add</span></code></td></tr><tr id="type-binop.Sub" class="anchored"><td class="def constructor"><a href="#type-binop.Sub" class="anchor"></a><code>| </code><code><span class="constructor">Sub</span></code></td></tr><tr id="type-binop.Mul" class="anchored"><td class="def constructor"><a href="#type-binop.Mul" class="anchor"></a><code>| </code><code><span class="constructor">Mul</span></code></td></tr><tr id="type-binop.Div" class="anchored"><td class="def constructor"><a href="#type-binop.Div" class="anchor"></a><code>| </code><code><span class="constructor">Div</span></code></td></tr></table></dt><dd><p>Binary operators</p></dd></dl><dl><dt class="spec value" id="val-precedence"><a href="#val-precedence" class="anchor"></a><code><span class="keyword">val</span> precedence : <a href="index.html#type-binop">binop</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-has_priority"><a href="#val-has_priority" class="anchor"></a><code><span class="keyword">val</span> has_priority : <a href="index.html#type-binop">binop</a> <span>&#45;&gt;</span> <a href="index.html#type-binop">binop</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_right_associative"><a href="#val-is_right_associative" class="anchor"></a><code><span class="keyword">val</span> is_right_associative : <span class="type-var">'a</span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_left_associative"><a href="#val-is_left_associative" class="anchor"></a><code><span class="keyword">val</span> is_left_associative : <a href="index.html#type-binop">binop</a> <span>&#45;&gt;</span> bool</code></dt></dl><dl><dt class="spec type" id="type-unop"><a href="#type-unop" class="anchor"></a><code><span class="keyword">type</span> unop</code><code> = </code><table class="variant"><tr id="type-unop.Not" class="anchored"><td class="def constructor"><a href="#type-unop.Not" class="anchor"></a><code>| </code><code><span class="constructor">Not</span></code></td></tr><tr id="type-unop.Minus" class="anchored"><td class="def constructor"><a href="#type-unop.Minus" class="anchor"></a><code>| </code><code><span class="constructor">Minus</span></code></td></tr></table></dt><dd><p>Unary operators</p></dd></dl><dl><dt class="spec type" id="type-expression"><a href="#type-expression" class="anchor"></a><code><span class="keyword">type</span> expression</code><code> = </code><table class="variant"><tr id="type-expression.TestInSet" class="anchored"><td class="def constructor"><a href="#type-expression.TestInSet" class="anchor"></a><code>| </code><code><span class="constructor">TestInSet</span> <span class="keyword">of</span> bool * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-set_value">set_value</a> list</span></code></td><td class="doc"><p>Test if an expression is in a set of value (or not in the set if the flag is set to <code>false</code>)</p></td></tr><tr id="type-expression.Comparison" class="anchored"><td class="def constructor"><a href="#type-expression.Comparison" class="anchor"></a><code>| </code><code><span class="constructor">Comparison</span> <span class="keyword">of</span> <span><a href="index.html#type-comp_op">comp_op</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>Compares two expressions and produce a boolean</p></td></tr><tr id="type-expression.Binop" class="anchored"><td class="def constructor"><a href="#type-expression.Binop" class="anchor"></a><code>| </code><code><span class="constructor">Binop</span> <span class="keyword">of</span> <span><a href="index.html#type-binop">binop</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-expression.Unop" class="anchored"><td class="def constructor"><a href="#type-expression.Unop" class="anchor"></a><code>| </code><code><span class="constructor">Unop</span> <span class="keyword">of</span> <a href="index.html#type-unop">unop</a> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-expression.Index" class="anchored"><td class="def constructor"><a href="#type-expression.Index" class="anchor"></a><code>| </code><code><span class="constructor">Index</span> <span class="keyword">of</span> <span><a href="index.html#type-variable">variable</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-table_index">table_index</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>Access a cell in a table</p></td></tr><tr id="type-expression.Conditional" class="anchored"><td class="def constructor"><a href="#type-expression.Conditional" class="anchor"></a><code>| </code><code><span class="constructor">Conditional</span> <span class="keyword">of</span> <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span></code></td><td class="doc"><p>Classic conditional with an optional else clause (<code>None</code> only for verification conditions)</p></td></tr><tr id="type-expression.FunctionCall" class="anchored"><td class="def constructor"><a href="#type-expression.FunctionCall" class="anchor"></a><code>| </code><code><span class="constructor">FunctionCall</span> <span class="keyword">of</span> <span><a href="index.html#type-func_name">func_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <a href="index.html#type-func_args">func_args</a></code></td></tr><tr id="type-expression.Literal" class="anchored"><td class="def constructor"><a href="#type-expression.Literal" class="anchor"></a><code>| </code><code><span class="constructor">Literal</span> <span class="keyword">of</span> <a href="index.html#type-literal">literal</a></code></td></tr><tr id="type-expression.Loop" class="anchored"><td class="def constructor"><a href="#type-expression.Loop" class="anchor"></a><code>| </code><code><span class="constructor">Loop</span> <span class="keyword">of</span> <span><a href="index.html#type-loop_variables">loop_variables</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>The loop is prefixed with the loop variables declarations</p></td></tr></table></dt><dd><p>The main type of the M language</p></dd></dl><dl><dt class="spec type" id="type-func_args"><a href="#type-func_args" class="anchor"></a><code><span class="keyword">and</span> func_args</code><code> = </code><table class="variant"><tr id="type-func_args.ArgList" class="anchored"><td class="def constructor"><a href="#type-func_args.ArgList" class="anchor"></a><code>| </code><code><span class="constructor">ArgList</span> <span class="keyword">of</span> <span><span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span></code></td></tr><tr id="type-func_args.LoopList" class="anchored"><td class="def constructor"><a href="#type-func_args.LoopList" class="anchor"></a><code>| </code><code><span class="constructor">LoopList</span> <span class="keyword">of</span> <span><a href="index.html#type-loop_variables">loop_variables</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr></table></dt><dd><p>Functions can take a explicit list of argument or a loop expression that expands into a list</p></dd></dl></section></section><section><header><h2 id="toplevel-clauses"><a href="#toplevel-clauses" class="anchor"></a>Toplevel clauses</h2></header><section><header><h3 id="rules"><a href="#rules" class="anchor"></a>Rules</h3></header><aside><p>The rule is the main feature of the M language. It defines the expression of one or several variables.</p></aside><dl><dt class="spec type" id="type-lvalue"><a href="#type-lvalue" class="anchor"></a><code><span class="keyword">type</span> lvalue</code><code> = </code><code>{</code><table class="record"><tr id="type-lvalue.var" class="anchored"><td class="def field"><a href="#type-lvalue.var" class="anchor"></a><code>var : <span><a href="index.html#type-variable">variable</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-lvalue.index" class="anchored"><td class="def field"><a href="#type-lvalue.index" class="anchor"></a><code>index : <span><span><a href="index.html#type-table_index">table_index</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td></tr></table><code>}</code></dt><dd><p>An lvalue (left value) is a variable being assigned. It can be a table or a non-table variable</p></dd></dl><dl><dt class="spec type" id="type-formula_decl"><a href="#type-formula_decl" class="anchor"></a><code><span class="keyword">type</span> formula_decl</code><code> = </code><code>{</code><table class="record"><tr id="type-formula_decl.lvalue" class="anchored"><td class="def field"><a href="#type-formula_decl.lvalue" class="anchor"></a><code>lvalue : <span><a href="index.html#type-lvalue">lvalue</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-formula_decl.formula" class="anchored"><td class="def field"><a href="#type-formula_decl.formula" class="anchor"></a><code>formula : <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-formula"><a href="#type-formula" class="anchor"></a><code><span class="keyword">type</span> formula</code><code> = </code><table class="variant"><tr id="type-formula.SingleFormula" class="anchored"><td class="def constructor"><a href="#type-formula.SingleFormula" class="anchor"></a><code>| </code><code><span class="constructor">SingleFormula</span> <span class="keyword">of</span> <a href="index.html#type-formula_decl">formula_decl</a></code></td></tr><tr id="type-formula.MultipleFormulaes" class="anchored"><td class="def constructor"><a href="#type-formula.MultipleFormulaes" class="anchor"></a><code>| </code><code><span class="constructor">MultipleFormulaes</span> <span class="keyword">of</span> <span><a href="index.html#type-loop_variables">loop_variables</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <a href="index.html#type-formula_decl">formula_decl</a></code></td></tr></table></dt><dd><p>In the M language, you can define multiple variables at once. This is the way they do looping since the definition can depend on the loop variable value (e.g <code>Xi</code> can depend on <code>i</code>).</p></dd></dl><dl><dt class="spec type" id="type-rule"><a href="#type-rule" class="anchor"></a><code><span class="keyword">type</span> rule</code><code> = </code><code>{</code><table class="record"><tr id="type-rule.rule_number" class="anchored"><td class="def field"><a href="#type-rule.rule_number" class="anchor"></a><code>rule_number : <span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-rule.rule_tags" class="anchored"><td class="def field"><a href="#type-rule.rule_tags" class="anchor"></a><code>rule_tags : <span><span><a href="index.html#type-chain_tag">chain_tag</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-rule.rule_applications" class="anchored"><td class="def field"><a href="#type-rule.rule_applications" class="anchor"></a><code>rule_applications : <span><span><a href="index.html#type-application">application</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-rule.rule_chaining" class="anchored"><td class="def field"><a href="#type-rule.rule_chaining" class="anchor"></a><code>rule_chaining : <span><span><a href="index.html#type-chaining">chaining</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td></tr><tr id="type-rule.rule_formulaes" class="anchored"><td class="def field"><a href="#type-rule.rule_formulaes" class="anchor"></a><code>rule_formulaes : <span><span><a href="index.html#type-formula">formula</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td><td class="doc"><p>A rule can contain many variable definitions</p></td></tr></table><code>}</code></dt></dl></section><section><header><h3 id="variable-declaration"><a href="#variable-declaration" class="anchor"></a>Variable declaration</h3></header><aside><p>The M language has prototypes for declaring variables with types and various attributes. There are three kind of variables: input variables, computed variables and constant variables.</p><p>Variable declaration is not application-specific, which is not coherent.</p></aside><section><header><h4 id="input-variables"><a href="#input-variables" class="anchor"></a>Input variables</h4></header><dl><dt class="spec type" id="type-input_variable_subtype"><a href="#type-input_variable_subtype" class="anchor"></a><code><span class="keyword">type</span> input_variable_subtype</code><code> = </code><table class="variant"><tr id="type-input_variable_subtype.Context" class="anchored"><td class="def constructor"><a href="#type-input_variable_subtype.Context" class="anchor"></a><code>| </code><code><span class="constructor">Context</span></code></td></tr><tr id="type-input_variable_subtype.Family" class="anchored"><td class="def constructor"><a href="#type-input_variable_subtype.Family" class="anchor"></a><code>| </code><code><span class="constructor">Family</span></code></td></tr><tr id="type-input_variable_subtype.Penality" class="anchored"><td class="def constructor"><a href="#type-input_variable_subtype.Penality" class="anchor"></a><code>| </code><code><span class="constructor">Penality</span></code></td></tr><tr id="type-input_variable_subtype.Income" class="anchored"><td class="def constructor"><a href="#type-input_variable_subtype.Income" class="anchor"></a><code>| </code><code><span class="constructor">Income</span></code></td></tr></table></dt><dd><p>Unused for now, except for typechecking: <code>Income</code> should be a real number corresponding to an amount of money</p></dd></dl><dl><dt class="spec type" id="type-input_variable_attribute"><a href="#type-input_variable_attribute" class="anchor"></a><code><span class="keyword">type</span> input_variable_attribute</code><code> = string</code></dt><dd><p>Attributes are unused for now</p></dd></dl><dl><dt class="spec type" id="type-value_typ"><a href="#type-value_typ" class="anchor"></a><code><span class="keyword">type</span> value_typ</code><code> = </code><table class="variant"><tr id="type-value_typ.Boolean" class="anchored"><td class="def constructor"><a href="#type-value_typ.Boolean" class="anchor"></a><code>| </code><code><span class="constructor">Boolean</span></code></td></tr><tr id="type-value_typ.DateYear" class="anchored"><td class="def constructor"><a href="#type-value_typ.DateYear" class="anchor"></a><code>| </code><code><span class="constructor">DateYear</span></code></td></tr><tr id="type-value_typ.DateDayMonthYear" class="anchored"><td class="def constructor"><a href="#type-value_typ.DateDayMonthYear" class="anchor"></a><code>| </code><code><span class="constructor">DateDayMonthYear</span></code></td></tr><tr id="type-value_typ.DateMonth" class="anchored"><td class="def constructor"><a href="#type-value_typ.DateMonth" class="anchor"></a><code>| </code><code><span class="constructor">DateMonth</span></code></td></tr><tr id="type-value_typ.Integer" class="anchored"><td class="def constructor"><a href="#type-value_typ.Integer" class="anchor"></a><code>| </code><code><span class="constructor">Integer</span></code></td></tr><tr id="type-value_typ.Real" class="anchored"><td class="def constructor"><a href="#type-value_typ.Real" class="anchor"></a><code>| </code><code><span class="constructor">Real</span></code></td></tr></table></dt><dd><p>Here are all the types a value can have. Date types don't seem to be used at all though.</p></dd></dl><dl><dt class="spec type" id="type-input_variable"><a href="#type-input_variable" class="anchor"></a><code><span class="keyword">type</span> input_variable</code><code> = </code><code>{</code><table class="record"><tr id="type-input_variable.input_name" class="anchored"><td class="def field"><a href="#type-input_variable.input_name" class="anchor"></a><code>input_name : <span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-input_variable.input_subtyp" class="anchored"><td class="def field"><a href="#type-input_variable.input_subtyp" class="anchor"></a><code>input_subtyp : <span><a href="index.html#type-input_variable_subtype">input_variable_subtype</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-input_variable.input_attributes" class="anchored"><td class="def field"><a href="#type-input_variable.input_attributes" class="anchor"></a><code>input_attributes : <span><span>(<span><a href="index.html#type-input_variable_attribute">input_variable_attribute</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>)</span> list</span>;</code></td></tr><tr id="type-input_variable.input_given_back" class="anchored"><td class="def field"><a href="#type-input_variable.input_given_back" class="anchor"></a><code>input_given_back : bool;</code></td><td class="doc"><p>An input variable given back (&quot;restituee&quot;) means that it's also an output</p></td></tr><tr id="type-input_variable.input_alias" class="anchored"><td class="def field"><a href="#type-input_variable.input_alias" class="anchor"></a><code>input_alias : <span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td><td class="doc"><p>Unused for now</p></td></tr><tr id="type-input_variable.input_description" class="anchored"><td class="def field"><a href="#type-input_variable.input_description" class="anchor"></a><code>input_description : <span>string <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-input_variable.input_typ" class="anchored"><td class="def field"><a href="#type-input_variable.input_typ" class="anchor"></a><code>input_typ : <span><span><a href="index.html#type-value_typ">value_typ</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-computed_typ"><a href="#type-computed_typ" class="anchor"></a><code><span class="keyword">type</span> computed_typ</code><code> = </code><table class="variant"><tr id="type-computed_typ.Base" class="anchored"><td class="def constructor"><a href="#type-computed_typ.Base" class="anchor"></a><code>| </code><code><span class="constructor">Base</span></code></td></tr><tr id="type-computed_typ.GivenBack" class="anchored"><td class="def constructor"><a href="#type-computed_typ.GivenBack" class="anchor"></a><code>| </code><code><span class="constructor">GivenBack</span></code></td></tr></table></dt><dd><p>A <code>GivenBack</code> variable is an output of the program</p></dd></dl><dl><dt class="spec type" id="type-computed_variable"><a href="#type-computed_variable" class="anchor"></a><code><span class="keyword">type</span> computed_variable</code><code> = </code><code>{</code><table class="record"><tr id="type-computed_variable.comp_name" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_name" class="anchor"></a><code>comp_name : <span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-computed_variable.comp_table" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_table" class="anchor"></a><code>comp_table : <span><span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td><td class="doc"><p>size of the table, <code>None</code> for non-table variables</p></td></tr><tr id="type-computed_variable.comp_attributes" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_attributes" class="anchor"></a><code>comp_attributes : <span><span>(<span><a href="index.html#type-input_variable_attribute">input_variable_attribute</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>)</span> list</span>;</code></td></tr><tr id="type-computed_variable.comp_subtyp" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_subtyp" class="anchor"></a><code>comp_subtyp : <span><span><a href="index.html#type-computed_typ">computed_typ</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-computed_variable.comp_typ" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_typ" class="anchor"></a><code>comp_typ : <span><span><a href="index.html#type-value_typ">value_typ</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td></tr><tr id="type-computed_variable.comp_description" class="anchored"><td class="def field"><a href="#type-computed_variable.comp_description" class="anchor"></a><code>comp_description : <span>string <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-variable_decl"><a href="#type-variable_decl" class="anchor"></a><code><span class="keyword">type</span> variable_decl</code><code> = </code><table class="variant"><tr id="type-variable_decl.ComputedVar" class="anchored"><td class="def constructor"><a href="#type-variable_decl.ComputedVar" class="anchor"></a><code>| </code><code><span class="constructor">ComputedVar</span> <span class="keyword">of</span> <span><a href="index.html#type-computed_variable">computed_variable</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr><tr id="type-variable_decl.ConstVar" class="anchored"><td class="def constructor"><a href="#type-variable_decl.ConstVar" class="anchor"></a><code>| </code><code><span class="constructor">ConstVar</span> <span class="keyword">of</span> <span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-literal">literal</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>The literal is the constant value</p></td></tr><tr id="type-variable_decl.InputVar" class="anchored"><td class="def constructor"><a href="#type-variable_decl.InputVar" class="anchor"></a><code>| </code><code><span class="constructor">InputVar</span> <span class="keyword">of</span> <span><a href="index.html#type-input_variable">input_variable</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td></tr></table></dt></dl></section></section><section><header><h3 id="verification-clauses"><a href="#verification-clauses" class="anchor"></a>Verification clauses</h3></header><aside><p>These clauses are expression refering to the variables of the program. They seem to be dynamically checked and trigger errors when false.</p></aside><dl><dt class="spec type" id="type-verification_condition"><a href="#type-verification_condition" class="anchor"></a><code><span class="keyword">type</span> verification_condition</code><code> = </code><code>{</code><table class="record"><tr id="type-verification_condition.verif_cond_expr" class="anchored"><td class="def field"><a href="#type-verification_condition.verif_cond_expr" class="anchor"></a><code>verif_cond_expr : <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-verification_condition.verif_cond_error" class="anchored"><td class="def field"><a href="#type-verification_condition.verif_cond_error" class="anchor"></a><code>verif_cond_error : <span><a href="index.html#type-error_name">error_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> option</span>;</code></td><td class="doc"><p>A verification condition error can ba associated to a variable</p></td></tr></table><code>}</code></dt><dt class="spec type" id="type-verification"><a href="#type-verification" class="anchor"></a><code><span class="keyword">type</span> verification</code><code> = </code><code>{</code><table class="record"><tr id="type-verification.verif_number" class="anchored"><td class="def field"><a href="#type-verification.verif_number" class="anchor"></a><code>verif_number : <span>int <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-verification.verif_tags" class="anchored"><td class="def field"><a href="#type-verification.verif_tags" class="anchor"></a><code>verif_tags : <span><span><a href="index.html#type-chain_tag">chain_tag</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-verification.verif_applications" class="anchored"><td class="def field"><a href="#type-verification.verif_applications" class="anchor"></a><code>verif_applications : <span><span><a href="index.html#type-application">application</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td><td class="doc"><p>Verification conditions are application-specific</p></td></tr><tr id="type-verification.verif_conditions" class="anchored"><td class="def field"><a href="#type-verification.verif_conditions" class="anchor"></a><code>verif_conditions : <span><span><a href="index.html#type-verification_condition">verification_condition</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-error_typ"><a href="#type-error_typ" class="anchor"></a><code><span class="keyword">type</span> error_typ</code><code> = </code><table class="variant"><tr id="type-error_typ.Anomaly" class="anchored"><td class="def constructor"><a href="#type-error_typ.Anomaly" class="anchor"></a><code>| </code><code><span class="constructor">Anomaly</span></code></td></tr><tr id="type-error_typ.Discordance" class="anchored"><td class="def constructor"><a href="#type-error_typ.Discordance" class="anchor"></a><code>| </code><code><span class="constructor">Discordance</span></code></td></tr><tr id="type-error_typ.Information" class="anchored"><td class="def constructor"><a href="#type-error_typ.Information" class="anchor"></a><code>| </code><code><span class="constructor">Information</span></code></td></tr></table></dt><dt class="spec type" id="type-error_"><a href="#type-error_" class="anchor"></a><code><span class="keyword">type</span> error_</code><code> = </code><code>{</code><table class="record"><tr id="type-error_.error_name" class="anchored"><td class="def field"><a href="#type-error_.error_name" class="anchor"></a><code>error_name : <span><a href="index.html#type-error_name">error_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-error_.error_typ" class="anchored"><td class="def field"><a href="#type-error_.error_typ" class="anchor"></a><code>error_typ : <span><a href="index.html#type-error_typ">error_typ</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>;</code></td></tr><tr id="type-error_.error_descr" class="anchored"><td class="def field"><a href="#type-error_.error_descr" class="anchor"></a><code>error_descr : <span><span>string <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr></table><code>}</code></dt></dl></section></section><section><header><h2 id="m-programs"><a href="#m-programs" class="anchor"></a>M programs</h2></header><dl><dt class="spec type" id="type-source_file_item"><a href="#type-source_file_item" class="anchor"></a><code><span class="keyword">type</span> source_file_item</code><code> = </code><table class="variant"><tr id="type-source_file_item.Application" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Application" class="anchor"></a><code>| </code><code><span class="constructor">Application</span> <span class="keyword">of</span> <span><a href="index.html#type-application">application</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>Declares an application</p></td></tr><tr id="type-source_file_item.Chaining" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Chaining" class="anchor"></a><code>| </code><code><span class="constructor">Chaining</span> <span class="keyword">of</span> <a href="index.html#type-chaining">chaining</a> * <span><span><a href="index.html#type-application">application</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span></code></td><td class="doc"><p>Unused, declares an &quot;enchaineur&quot;</p></td></tr><tr id="type-source_file_item.VariableDecl" class="anchored"><td class="def constructor"><a href="#type-source_file_item.VariableDecl" class="anchor"></a><code>| </code><code><span class="constructor">VariableDecl</span> <span class="keyword">of</span> <a href="index.html#type-variable_decl">variable_decl</a></code></td></tr><tr id="type-source_file_item.Rule" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Rule" class="anchor"></a><code>| </code><code><span class="constructor">Rule</span> <span class="keyword">of</span> <a href="index.html#type-rule">rule</a></code></td></tr><tr id="type-source_file_item.Verification" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Verification" class="anchor"></a><code>| </code><code><span class="constructor">Verification</span> <span class="keyword">of</span> <a href="index.html#type-verification">verification</a></code></td></tr><tr id="type-source_file_item.Error" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Error" class="anchor"></a><code>| </code><code><span class="constructor">Error</span> <span class="keyword">of</span> <a href="index.html#type-error_">error_</a></code></td><td class="doc"><p>Declares an error</p></td></tr><tr id="type-source_file_item.Output" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Output" class="anchor"></a><code>| </code><code><span class="constructor">Output</span> <span class="keyword">of</span> <span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span></code></td><td class="doc"><p>Declares an output variable</p></td></tr><tr id="type-source_file_item.Function" class="anchored"><td class="def constructor"><a href="#type-source_file_item.Function" class="anchor"></a><code>| </code><code><span class="constructor">Function</span></code></td><td class="doc"><p>Declares a function, unused</p></td></tr></table></dt><dt class="spec type" id="type-source_file"><a href="#type-source_file" class="anchor"></a><code><span class="keyword">type</span> source_file</code><code> = <span><span><a href="index.html#type-source_file_item">source_file_item</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span></code></dt><dt class="spec type" id="type-program"><a href="#type-program" class="anchor"></a><code><span class="keyword">type</span> program</code><code> = <span><a href="index.html#type-source_file">source_file</a> list</span></code></dt></dl></section><section><header><h2 id="function-specification-ast"><a href="#function-specification-ast" class="anchor"></a>Function specification AST</h2></header><dl><dt class="spec type" id="type-function_spec"><a href="#type-function_spec" class="anchor"></a><code><span class="keyword">type</span> function_spec</code><code> = </code><code>{</code><table class="record"><tr id="type-function_spec.spec_inputs" class="anchored"><td class="def field"><a href="#type-function_spec.spec_inputs" class="anchor"></a><code>spec_inputs : <span><span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-function_spec.spec_consts" class="anchored"><td class="def field"><a href="#type-function_spec.spec_consts" class="anchor"></a><code>spec_consts : <span><span>(<span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> * <span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span>)</span> list</span>;</code></td></tr><tr id="type-function_spec.spec_outputs" class="anchored"><td class="def field"><a href="#type-function_spec.spec_outputs" class="anchor"></a><code>spec_outputs : <span><span><a href="index.html#type-variable_name">variable_name</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr><tr id="type-function_spec.spec_conditions" class="anchored"><td class="def field"><a href="#type-function_spec.spec_conditions" class="anchor"></a><code>spec_conditions : <span><span><a href="index.html#type-expression">expression</a> <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> list</span>;</code></td></tr></table><code>}</code></dt></dl></section><section><header><h2 id="helper-functions"><a href="#helper-functions" class="anchor"></a>Helper functions</h2></header><dl><dt class="spec value" id="val-get_variable_name"><a href="#val-get_variable_name" class="anchor"></a><code><span class="keyword">val</span> get_variable_name : <a href="index.html#type-variable">variable</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-are_tags_part_of_chain"><a href="#val-are_tags_part_of_chain" class="anchor"></a><code><span class="keyword">val</span> are_tags_part_of_chain : <span><a href="index.html#type-chain_tag">chain_tag</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-chain_tag">chain_tag</a> <span>&#45;&gt;</span> bool</code></dt></dl></section></div></body></html>