<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mlang__Mast_to_mir (mlang.Mlang__Mast_to_mir)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mlang</a> &#x00BB; Mlang__Mast_to_mir</nav><h1>Module <code>Mlang__Mast_to_mir</code></h1><p><code>Mast</code> to <code>Mir</code> translation of M programs.</p><nav class="toc"><ul><li><a href="#translation-helpers">Translation helpers</a></li><li><a href="#main-translation-function">Main translation function</a></li></ul></nav></header><section><header><h2 id="translation-helpers"><a href="#translation-helpers" class="anchor"></a>Translation helpers</h2></header><dl><dt class="spec value" id="val-get_var_from_name"><a href="#val-get_var_from_name" class="anchor"></a><code><span class="keyword">val</span> get_var_from_name : <span><a href="../Mlang/Com/Var/index.html#type-t">Mlang.Com.Var.t</a> <a href="../Mlang/index.html#module-StrMap">Mlang.StrMap</a>.t</span> <span>&#45;&gt;</span> <span>string <a href="../Mlang/Pos/index.html#type-marked">Mlang.Pos.marked</a></span> <span>&#45;&gt;</span> <a href="../Mlang/Com/Var/index.html#type-t">Mlang.Com.Var.t</a></code></dt><dd><p>Queries a <code>type: Mir.variable.t</code> from an <code>type:idmap</code> mapping, the name of a variable and the rule number from which the variable is requested. Returns the variable with the same name and highest rule number that is below the current rule number from where this variable is requested</p></dd></dl></section><section><header><h2 id="main-translation-function"><a href="#main-translation-function" class="anchor"></a>Main translation function</h2></header><dl><dt class="spec value" id="val-translate"><a href="#val-translate" class="anchor"></a><code><span class="keyword">val</span> translate : <a href="../Mlang/Mast/index.html#type-program">Mlang.Mast.program</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Mlang/Mir/index.html#type-program">Mlang.Mir.program</a></code></dt><dd><p>Main translation function from the M AST to the M Variable Graph. This function performs 6 linear passes on the input code:</p><ul><li><code>get_constants</code> gets the value of all constant variables, the values of which are needed to compute certain loop bounds;</li><li><code>get_variables_decl</code> retrieves the declarations of all other variables and errors;</li><li><code>get_var_redefinitions</code> incorporates into <code>idmap</code> all definitions inside rules along with their execution number;</li><li><code>get_var_data</code> is the workhorse pass that translates all the expressions corresponding to the definitions;</li><li><code>add_dummy_definition_for_variable_declaration</code> adds <code>Undefined</code> definitions placeholder for all variables declarations;</li><li><code>get_errors_conds</code> parses the verification conditions definitions.</li></ul></dd></dl></section></div></body></html>