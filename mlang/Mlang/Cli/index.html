<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cli (mlang.Mlang.Cli)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">mlang</a> &#x00BB; <a href="../index.html">Mlang</a> &#x00BB; Cli</nav><header class="odoc-preamble"><h1>Module <code><span>Mlang.Cli</span></code></h1><p>Command-line interface helpers</p></header><nav class="odoc-toc"><ul><li><a href="#command-line-arguments-parsing">Command line arguments parsing</a></li><li><a href="#flags-and-parameters">Flags and parameters</a></li><li><a href="#printers">Printers</a></li></ul></nav><div class="odoc-content"><h3 id="command-line-arguments-parsing"><a href="#command-line-arguments-parsing" class="anchor"></a>Command line arguments parsing</h3><div class="odoc-spec"><div class="spec value" id="val-mlang_t" class="anchored"><a href="#val-mlang_t" class="anchor"></a><code><span><span class="keyword">val</span> mlang_t : 
  <span><span>( <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span>string <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span>string <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>float option</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span>int option</span> <span class="arrow">&#45;&gt;</span></span>
    <span>bool <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>string list</span> option</span> <span class="arrow">&#45;&gt;</span></span>
    <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div><div class="spec-doc"><p>Mlang binary command-line arguments parsing function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-info" class="anchored"><a href="#val-info" class="anchor"></a><code><span><span class="keyword">val</span> info : <span class="xref-unresolved">Cmdliner</span>.Cmd.info</span></code></div><div class="spec-doc"><p>Command-line man page for --help</p></div></div><h3 id="flags-and-parameters"><a href="#flags-and-parameters" class="anchor"></a>Flags and parameters</h3><div class="odoc-spec"><div class="spec type" id="type-value_sort" class="anchored"><a href="#type-value_sort" class="anchor"></a><code><span><span class="keyword">type</span> value_sort</span><span> = </span></code><table><tr id="type-value_sort.RegularFloat" class="anchored"><td class="def variant constructor"><a href="#type-value_sort.RegularFloat" class="anchor"></a><code><span>| </span><span><span class="constructor">RegularFloat</span></span></code></td></tr><tr id="type-value_sort.MPFR" class="anchored"><td class="def variant constructor"><a href="#type-value_sort.MPFR" class="anchor"></a><code><span>| </span><span><span class="constructor">MPFR</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>bitsize of the floats</p><span class="comment-delim">*)</span></td></tr><tr id="type-value_sort.BigInt" class="anchored"><td class="def variant constructor"><a href="#type-value_sort.BigInt" class="anchor"></a><code><span>| </span><span><span class="constructor">BigInt</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>precision of the fixed point</p><span class="comment-delim">*)</span></td></tr><tr id="type-value_sort.Interval" class="anchored"><td class="def variant constructor"><a href="#type-value_sort.Interval" class="anchor"></a><code><span>| </span><span><span class="constructor">Interval</span></span></code></td></tr><tr id="type-value_sort.Rational" class="anchored"><td class="def variant constructor"><a href="#type-value_sort.Rational" class="anchor"></a><code><span>| </span><span><span class="constructor">Rational</span></span></code></td></tr></table></div><div class="spec-doc"><p>According on the <code>value_sort</code>, a specific interpreter will be called with the right kind of floating-point value</p></div></div><div class="odoc-spec"><div class="spec type" id="type-round_ops" class="anchored"><a href="#type-round_ops" class="anchor"></a><code><span><span class="keyword">type</span> round_ops</span><span> = </span></code><table><tr id="type-round_ops.RODefault" class="anchored"><td class="def variant constructor"><a href="#type-round_ops.RODefault" class="anchor"></a><code><span>| </span><span><span class="constructor">RODefault</span></span></code></td></tr><tr id="type-round_ops.ROMulti" class="anchored"><td class="def variant constructor"><a href="#type-round_ops.ROMulti" class="anchor"></a><code><span>| </span><span><span class="constructor">ROMulti</span></span></code></td></tr><tr id="type-round_ops.ROMainframe" class="anchored"><td class="def variant constructor"><a href="#type-round_ops.ROMainframe" class="anchor"></a><code><span>| </span><span><span class="constructor">ROMainframe</span> <span class="keyword">of</span> int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>size of type long, either 32 or 64</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Rounding operations to use in the interpreter. They correspond to the rounding operations used by the DGFiP calculator in different execution contexts.</p><ul><li>RODefault: rounding operations used in the PC/single-thread context</li><li>ROMulti: rouding operations used in the PC/multi-thread context</li><li>ROMainframe rounding operations used in the mainframe context</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-source_files" class="anchored"><a href="#val-source_files" class="anchor"></a><code><span><span class="keyword">val</span> source_files : <span><span>string list</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>M source files to be compiled</p></div></div><div class="odoc-spec"><div class="spec value" id="val-application_names" class="anchored"><a href="#val-application_names" class="anchor"></a><code><span><span class="keyword">val</span> application_names : <span><span>string list</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dep_graph_file" class="anchored"><a href="#val-dep_graph_file" class="anchor"></a><code><span><span class="keyword">val</span> dep_graph_file : <span>string <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Prefix for dependency graph output files</p></div></div><div class="odoc-spec"><div class="spec value" id="val-verify_flag" class="anchored"><a href="#val-verify_flag" class="anchor"></a><code><span><span class="keyword">val</span> verify_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Use Z3 to check if verif rules hold all the time</p></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_flag" class="anchored"><a href="#val-debug_flag" class="anchor"></a><code><span><span class="keyword">val</span> debug_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Prints debug information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-var_info_flag" class="anchored"><a href="#val-var_info_flag" class="anchor"></a><code><span><span class="keyword">val</span> var_info_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Print infomation about variables declared, defined ou used incorrectly</p></div></div><div class="odoc-spec"><div class="spec value" id="val-var_info_debug" class="anchored"><a href="#val-var_info_debug" class="anchor"></a><code><span><span class="keyword">val</span> var_info_debug : <span><span>string list</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Prints even more information but only about some variables members of a list</p></div></div><div class="odoc-spec"><div class="spec value" id="val-warning_flag" class="anchored"><a href="#val-warning_flag" class="anchor"></a><code><span><span class="keyword">val</span> warning_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Print warning info</p></div></div><div class="odoc-spec"><div class="spec value" id="val-no_print_cycles_flag" class="anchored"><a href="#val-no_print_cycles_flag" class="anchor"></a><code><span><span class="keyword">val</span> no_print_cycles_flag : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Dump circular definitions of variables</p></div></div><div class="odoc-spec"><div class="spec value" id="val-display_time" class="anchored"><a href="#val-display_time" class="anchor"></a><code><span><span class="keyword">val</span> display_time : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Displays timing information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-output_file" class="anchored"><a href="#val-output_file" class="anchor"></a><code><span><span class="keyword">val</span> output_file : <span>string <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Output file</p></div></div><div class="odoc-spec"><div class="spec value" id="val-optimize_unsafe_float" class="anchored"><a href="#val-optimize_unsafe_float" class="anchor"></a><code><span><span class="keyword">val</span> optimize_unsafe_float : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Activate unsafe floating point optimizations</p></div></div><div class="odoc-spec"><div class="spec value" id="val-m_clean_calls" class="anchored"><a href="#val-m_clean_calls" class="anchor"></a><code><span><span class="keyword">val</span> m_clean_calls : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Clean regular variables between M calls</p></div></div><div class="odoc-spec"><div class="spec value" id="val-comparison_error_margin" class="anchored"><a href="#val-comparison_error_margin" class="anchor"></a><code><span><span class="keyword">val</span> comparison_error_margin : <span>float <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-income_year" class="anchored"><a href="#val-income_year" class="anchor"></a><code><span><span class="keyword">val</span> income_year : <span>int <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-value_sort" class="anchored"><a href="#val-value_sort" class="anchor"></a><code><span><span class="keyword">val</span> value_sort : <span><a href="#type-value_sort">value_sort</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-round_ops" class="anchored"><a href="#val-round_ops" class="anchor"></a><code><span><span class="keyword">val</span> round_ops : <span><a href="#type-round_ops">round_ops</a> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_all_arg_refs" class="anchored"><a href="#val-set_all_arg_refs" class="anchor"></a><code><span><span class="keyword">val</span> set_all_arg_refs : 
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span>float option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-value_sort">value_sort</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-round_ops">round_ops</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_prefix_to_each_line" class="anchored"><a href="#val-add_prefix_to_each_line" class="anchor"></a><code><span><span class="keyword">val</span> add_prefix_to_each_line : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> string )</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>add_prefix_to_each_line msg prefix</code> will print msg but each line with line number <code>i</code> starts with the string <code>prefix i</code></p></div></div><h3 id="printers"><a href="#printers" class="anchor"></a>Printers</h3><div class="odoc-spec"><div class="spec value" id="val-format_with_style" class="anchored"><a href="#val-format_with_style" class="anchor"></a><code><span><span class="keyword">val</span> format_with_style : 
  <span><span><span class="xref-unresolved">ANSITerminal</span>.style list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, unit, string )</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><p>All the printers below print their argument after the correct marker</p><div class="odoc-spec"><div class="spec value" id="val-var_info_print" class="anchored"><a href="#val-var_info_print" class="anchor"></a><code><span><span class="keyword">val</span> var_info_print : 
  <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_print" class="anchored"><a href="#val-debug_print" class="anchor"></a><code><span><span class="keyword">val</span> debug_print : 
  <span>?endline:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-warning_print" class="anchored"><a href="#val-warning_print" class="anchor"></a><code><span><span class="keyword">val</span> warning_print : 
  <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-error_print" class="anchored"><a href="#val-error_print" class="anchor"></a><code><span><span class="keyword">val</span> error_print : 
  <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-result_print" class="anchored"><a href="#val-result_print" class="anchor"></a><code><span><span class="keyword">val</span> result_print : 
  <span><span><span>( <span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit, unit )</span> <span class="xref-unresolved">Stdlib</span>.format4</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create_progress_bar" class="anchored"><a href="#val-create_progress_bar" class="anchor"></a><code><span><span class="keyword">val</span> create_progress_bar : <span>string <span class="arrow">&#45;&gt;</span></span> <span>( <span>string <span class="arrow">&#45;&gt;</span></span> unit )</span> * <span>( <span>string <span class="arrow">&#45;&gt;</span></span> unit )</span></span></code></div><div class="spec-doc"><p>Returns two functions: the first one, <code>current_progress</code>, has to be called during the progress loop and the other one, <code>finish</code>, has to be called at the end of the progressive task.</p></div></div></div></body></html>