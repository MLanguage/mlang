<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mast_to_mir (mlang.Mlang.Mast_to_mir)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">mlang</a> &#x00BB; <a href="../index.html">Mlang</a> &#x00BB; Mast_to_mir</nav><header class="odoc-preamble"><h1>Module <code><span>Mlang.Mast_to_mir</span></code></h1><p><a href="../Mast/index.html"><code>Mast</code></a> to <a href="../Mir/index.html"><code>Mir</code></a> translation of M programs.</p></header><nav class="odoc-toc"><ul><li><a href="#translation-helpers">Translation helpers</a></li><li><a href="#main-translation-function">Main translation function</a></li></ul></nav><div class="odoc-content"><h2 id="translation-helpers"><a href="#translation-helpers" class="anchor"></a>Translation helpers</h2><div class="odoc-spec"><div class="spec value" id="val-get_var_from_name" class="anchored"><a href="#val-get_var_from_name" class="anchor"></a><code><span><span class="keyword">val</span> get_var_from_name : <span><span><a href="../Com/Var/index.html#type-t">Com.Var.t</a> <a href="../StrMap/index.html#type-t">StrMap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="../Pos/index.html#type-marked">Pos.marked</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Com/Var/index.html#type-t">Com.Var.t</a></span></code></div><div class="spec-doc"><p>Queries a <code>type: Mir.variable.t</code> from an <code>type:idmap</code> mapping, the name of a variable and the rule number from which the variable is requested. Returns the variable with the same name and highest rule number that is below the current rule number from where this variable is requested</p></div></div><h2 id="main-translation-function"><a href="#main-translation-function" class="anchor"></a>Main translation function</h2><div class="odoc-spec"><div class="spec value" id="val-translate" class="anchored"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><a href="../Mast/index.html#type-program">Mast.program</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../Mir/index.html#type-program">Mir.program</a></span></code></div><div class="spec-doc"><p>Main translation function from the M AST to the M Variable Graph. This function performs 6 linear passes on the input code:</p><ul><li><code>get_constants</code> gets the value of all constant variables, the values of which are needed to compute certain loop bounds;</li><li><code>get_variables_decl</code> retrieves the declarations of all other variables and errors;</li><li><code>get_var_redefinitions</code> incorporates into <code>idmap</code> all definitions inside rules along with their execution number;</li><li><code>get_var_data</code> is the workhorse pass that translates all the expressions corresponding to the definitions;</li><li><code>add_dummy_definition_for_variable_declaration</code> adds <code>Undefined</code> definitions placeholder for all variables declarations;</li><li><code>get_errors_conds</code> parses the verification conditions definitions.</li></ul></div></div></div></body></html>